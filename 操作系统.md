# 操作系统

Q1.
```CPP
64位系统和32位系统的区别
```
A1.
```CPP
8位的cpu，一次处理一个8位的数据，比如'10001000'，如果'+1'这个运算，cpu要先做'+'，再做'1'传给cpu
16位的cpu，一次处理2个字节(16位)
32位的cpu，一次处理4个字节 
```

| type           | 32bit - byte count | 64bit - byte count | range                             |
| :------------- | ------------------ | ------------------ | --------------------------------- |
| bool           | 1                  |                    | ture,false                        |
| char           | 1                  |                    | -128~127(-2^7~2^7-1)              |
| unsigned char  | 1                  |                    | 0~255(0~2^8-1)                    |
| short          | 2                  |                    | -32768~32767(-2^15~2^15-1)        |
| unsigned short | 2                  |                    | 0~65535(2^16-1)                   |
| int            | 4                  |                    | (-2^31~2^31-1)                    |
| unsigned int   | 4                  |                    | (0~2^32-1)                        |
| long           | 4                  | 8                  |                                   |
| unsigned long  | 4                  | 8                  |                                   |
| long long      | 8                  |                    | -2^64~2^64-1                      |
| float          | 4                  |                    | -2^128~2^128，精度为6~7位有效数字 |
| double         | 8                  |                    | -2^1024~2^1024，精度为15~16位     |
| long double    | 8                  |                    | -2^1024~2^1024，精度为15~16位     |
| *              | 4                  | 8                  |                                   |
|                |                    |                    |                                   |

除了long和指针有区别之外，其它不变。



Q:union

```CPP
若有以下说明和定义
union  dt
{
int  a;   char  b;  double  c;
}data;
以下叙述中错误的是 (    C  ) 。 
A.data的每个成员起始地址都相同。√
B.变量data所占内存字节数与成员c所占字节数相等。√
C.程序段：data.a=5;printf("%f\n",data.c);输出结果为5.000000。×
D.data可以作为函数的实参。√
```

A:

```CPP
printf函数只是将内存中的数据以不同的类型输出，而不能将内存中的整型数据自动转换为等值的浮点数，故C是错误的。在内存中，实数与整数的存放形式完全不一样，共用体的成员共用的是同一块内存，而不是同一个数值，因此选项C是错误的。

浮点数存储格式为IEEE754标准，以32位float(4字节)为例，float  i = 21.375；
i在计算机存储分为三个部分，
- 符号位S
- 阶码E,阶码E用偏移值表示
- 尾码M,尾码M用原码表示
```

![](https://uploadfiles.nowcoder.com/images/20180417/9486921_1523978479970_2ACE7E0DDC324F941D9408346EC00132)

```cpp
S为符号位，1代表负数，0代表整数，E代表偏移127的幂，M代表尾数。
由于i<0,所以S = 1,
对于E ,i 的二进制表示为10101.011，然后二进制右移4位，让最左边保留一位1，即10101.011 = 1.0101011*2^4,那么E = 127+4 = 131=10000011,
对于M，就是小数点后的的数0101011，由于要保证位23位，所以在末尾补0，即M=0101011000000000000000
所以i的存储为S+ E+M= 1-10000011-01010110000000000000000.
```

